# Halloween Coffin Scenes Configuration
# This file defines the sequence of effects for the Halloween coffin

# Setup sequence - runs once at startup
setup_sequence:
  - type: light
    action: set_color
    colour:
      r: 150
      g: 60
      b: 0
  - type: motor
    action: reverse
    duration: 6

# Global settings
settings:
  sequence_name: "Halloween Coffin Sequence"
  version: "1.0"
  description: "Main Halloween sequence triggered by proximity detection"
  cooldown_after_sequence: 30  # seconds to wait before allowing another sequence
  random_scene_mode: true  # Enable to randomly select scenes
  random_scene_list:  # Scenes to randomly choose from (optional - if empty, uses all available scenes)
    - "halloween_sequence"
    - "vampire_awakening"
    - "zombie_escape"
    - "ghost_apparition"
    - "demon_summoning"
    - "mummy_unwrapping"
    - "lightning_storm"
    - "rainbow_magic"

# Main Halloween sequences
scenes:
  halloween_sequence:
    name: "Main Halloween Sequence"
    description: "Complete Halloween coffin sequence"
    sequence:
      - type: light
        action: set_color
        colour:
          r: 150
          g: 60
          b: 0
      - type: light
        action: flash
        amount: 10
      - type: music
        file: opening.mp3
        action: play
      - type: motor
        action: forward
        duration: 6
      - type: sleep
        duration: 6
      - type: light
        action: set_color
        colour:
          r: 255
          g: 0
          b: 0
      - type: relay
        name: smoke
        action: on
      - type: sleep
        duration: 2
      - type: relay
        name: smoke
        action: off
      - type: relay
        name: skull
        action: on
      - type: sleep
        duration: 6
      - type: relay
        name: skull
        action: off
      - type: music
        file: creepy.mp3
        action: play
      - type: sleep
        duration: 1
      - type: motor
        action: reverse
        duration: 6
      - type: sleep
        duration: 3
      - type: light
        action: set_color
        colour:
          r: 0
          g: 255
          b: 0
      - type: sleep
        duration: 10

  vampire_awakening:
    name: "Vampire Awakening"
    description: "Slow, dramatic vampire rising from coffin"
    sequence:
      - type: light
        action: set_color
        colour:
          r: 100
          g: 0
          b: 100
      - type: music
        file: opening.mp3
        action: play
      - type: motor
        action: forward
        duration: 8
      - type: sleep
        duration: 8
      - type: light
        action: set_color
        colour:
          r: 200
          g: 0
          b: 0
      - type: relay
        name: smoke
        action: on
      - type: sleep
        duration: 4
      - type: relay
        name: smoke
        action: off
      - type: light
        action: set_color
        colour:
          r: 255
          g: 0
          b: 0
      - type: light
        action: flash
        amount: 8
      - type: relay
        name: skull
        action: on
      - type: sleep
        duration: 6
      - type: relay
        name: skull
        action: off
      - type: light
        action: set_color
        colour:
          r: 50
          g: 0
          b: 50
      - type: motor
        action: reverse
        duration: 6
      - type: sleep
        duration: 5

  zombie_escape:
    name: "Zombie Escape"
    description: "Fast, chaotic zombie breaking out"
    sequence:
      - type: light
        action: set_color
        colour:
          r: 0
          g: 100
          b: 0
      - type: light
        action: flash
        amount: 15
      - type: music
        file: thump.mp3
        action: play
      - type: sleep
        duration: 3
      - type: light
        action: set_color
        colour:
          r: 255
          g: 100
          b: 0
      - type: light
        action: flash
        amount: 20
      - type: motor
        action: forward
        duration: 2
      - type: relay
        name: skull
        action: on
      - type: sleep
        duration: 2
      - type: relay
        name: skull
        action: off
      - type: light
        action: set_color
        colour:
          r: 0
          g: 150
          b: 0
      - type: music
        file: zombie_scream.mp3
        action: play
      - type: relay
        name: smoke
        action: on
      - type: sleep
        duration: 4
      - type: relay
        name: smoke
        action: off
      - type: light
        action: set_color
        colour:
          r: 0
          g: 50
          b: 0
      - type: motor
        action: reverse
        duration: 3
      - type: sleep
        duration: 2

  ghost_apparition:
    name: "Ghost Apparition"
    description: "Ethereal ghost floating and disappearing"
    sequence:
      - type: light
        action: set_color
        colour:
          r: 200
          g: 200
          b: 255
      - type: light
        action: flash
        amount: 12
      - type: motor
        action: forward
        duration: 6
      - type: sleep
        duration: 6
      - type: light
        action: set_color
        colour:
          r: 150
          g: 150
          b: 255
      - type: relay
        name: smoke
        action: on
      - type: music
        file: ghost.mp3
        action: play
      - type: sleep
        duration: 5
      - type: relay
        name: smoke
        action: off
      - type: light
        action: set_color
        colour:
          r: 255
          g: 255
          b: 255
      - type: light
        action: flash
        amount: 6
      - type: relay
        name: skull
        action: on
      - type: sleep
        duration: 4
      - type: relay
        name: skull
        action: off
      - type: light
        action: set_color
        colour:
          r: 100
          g: 100
          b: 200
      - type: motor
        action: reverse
        duration: 6
      - type: sleep
        duration: 6

  demon_summoning:
    name: "Demon Summoning"
    description: "Dark ritual with demonic effects"
    sequence:
      - type: light
        action: set_color
        colour:
          r: 100
          g: 0
          b: 0
      - type: light
        action: flash
        amount: 8
      - type: music
        file: opening.mp3
        action: play
      - type: motor
        action: forward
        duration: 5
      - type: sleep
        duration: 4
      - type: light
        action: set_color
        colour:
          r: 150
          g: 0
          b: 0
      - type: music
        file: demon_growl.mp3
        action: play
      - type: sleep
        duration: 5
      - type: light
        action: set_color
        colour:
          r: 200
          g: 0
          b: 0
      - type: light
        action: flash
        amount: 10
      - type: relay
        name: smoke
        action: on
      - type: sleep
        duration: 3
      - type: relay
        name: smoke
        action: off
      - type: light
        action: set_color
        colour:
          r: 255
          g: 0
          b: 0
      - type: light
        action: flash
        amount: 15
      - type: relay
        name: skull
        action: on
      - type: sleep
        duration: 6
      - type: relay
        name: skull
        action: off
      - type: light
        action: set_color
        colour:
          r: 50
          g: 0
          b: 0
      - type: motor
        action: reverse
        duration: 5
      - type: sleep
        duration: 4

  mummy_unwrapping:
    name: "Mummy Unwrapping"
    description: "Slow, ancient mummy awakening"
    sequence:
      - type: light
        action: set_color
        colour:
          r: 150
          g: 100
          b: 50
      - type: music
        file: opening.mp3
        action: play
      - type: sleep
        duration: 7
      - type: light
        action: set_color
        colour:
          r: 200
          g: 150
          b: 100
      - type: light
        action: flash
        amount: 4
      - type: motor
        action: forward
        duration: 8
      - type: sleep
        duration: 8
      - type: light
        action: set_color
        colour:
          r: 255
          g: 200
          b: 150
      - type: relay
        name: smoke
        action: on
      - type: sleep
        duration: 4
      - type: relay
        name: smoke
        action: off
      - type: light
        action: set_color
        colour:
          r: 255
          g: 255
          b: 200
      - type: light
        action: flash
        amount: 6
      - type: relay
        name: skull
        action: on
      - type: music
        file: creepy.mp3
        action: play
      - type: sleep
        duration: 5
      - type: relay
        name: skull
        action: off
      - type: light
        action: set_color
        colour:
          r: 100
          g: 75
          b: 50
      - type: motor
        action: reverse
        duration: 6
      - type: sleep
        duration: 6

  lightning_storm:
    name: "Lightning Storm"
    description: "Dramatic lightning effects with thunder"
    sequence:
      - type: light
        action: set_color
        colour:
          r: 100
          g: 100
          b: 100
      - type: light
        action: flash
        amount: 20
      - type: music
        file: thump.mp3
        action: play
      - type: sleep
        duration: 3
      - type: light
        action: set_color
        colour:
          r: 200
          g: 200
          b: 255
      - type: light
        action: flash
        amount: 25
      - type: motor
        action: forward
        duration: 4
      - type: sleep
        duration: 4
      - type: light
        action: set_color
        colour:
          r: 255
          g: 255
          b: 255
      - type: light
        action: flash
        amount: 30
      - type: music
        file: loud_thunder_1.mp3
        action: play
      - type: relay
        name: smoke
        action: on
      - type: sleep
        duration: 5
      - type: relay
        name: smoke
        action: off
      - type: light
        action: set_color
        colour:
          r: 255
          g: 255
          b: 200
      - type: light
        action: flash
        amount: 20
      - type: relay
        name: skull
        action: on
      - type: music
        file: loud_thunder_2.mp3
        action: play
      - type: sleep
        duration: 4
      - type: relay
        name: skull
        action: off
      - type: light
        action: set_color
        colour:
          r: 50
          g: 50
          b: 50
      - type: motor
        action: reverse
        duration: 4
      - type: sleep
        duration: 3

  rainbow_magic:
    name: "Rainbow Magic"
    description: "Colorful, magical sequence"
    sequence:
      - type: light
        action: set_color
        colour:
          r: 255
          g: 0
          b: 255
      - type: light
        action: flash
        amount: 8
      - type: motor
        action: forward
        duration: 4
      - type: sleep
        duration: 4
      - type: light
        action: set_color
        colour:
          r: 255
          g: 0
          b: 0
      - type: sleep
        duration: 2
      - type: light
        action: set_color
        colour:
          r: 255
          g: 128
          b: 0
      - type: sleep
        duration: 2
      - type: light
        action: set_color
        colour:
          r: 255
          g: 255
          b: 0
      - type: sleep
        duration: 2
      - type: light
        action: set_color
        colour:
          r: 0
          g: 255
          b: 0
      - type: sleep
        duration: 2
      - type: light
        action: set_color
        colour:
          r: 0
          g: 0
          b: 255
      - type: sleep
        duration: 2
      - type: light
        action: set_color
        colour:
          r: 128
          g: 0
          b: 255
      - type: sleep
        duration: 2
      - type: light
        action: set_color
        colour:
          r: 255
          g: 255
          b: 255
      - type: light
        action: flash
        amount: 10
      - type: relay
        name: skull
        action: on
      - type: music
        file: creepy.mp3
        action: play
      - type: sleep
        duration: 3
      - type: relay
        name: skull
        action: off
      - type: light
        action: set_color
        colour:
          r: 100
          g: 100
          b: 255
      - type: motor
        action: reverse
        duration: 4
      - type: sleep
        duration: 4

# Alternative sequences (for reference/future use)
alternative_sequences:
  quick_scare:
    name: "Quick Scare"
    description: "Shortened version for quick scares"
    sequence:
      - type: light
        action: set_color
        colour:
          r: 255
          g: 0
          b: 0
      - type: light
        action: flash
        amount: 5
      - type: music
        file: thump.mp3
        action: play
      - type: sleep
        duration: 2

  maintenance_mode:
    name: "Maintenance Mode"
    description: "Safe mode for testing and maintenance"
    sequence:
      - type: light
        action: set_color
        colour:
          r: 0
          g: 0
          b: 255
      - type: sleep
        duration: 5

  emergency_test:
    name: "Emergency Test"
    description: "Quick test of all systems"
    sequence:
      - type: light
        action: set_color
        colour:
          r: 255
          g: 255
          b: 0
      - type: light
        action: flash
        amount: 5
      - type: sleep
        duration: 2
      - type: motor
        action: forward
        duration: 1.5
      - type: sleep
        duration: 3
      - type: relay
        name: smoke
        action: on
      - type: sleep
        duration: 1
      - type: relay
        name: smoke
        action: off
      - type: relay
        name: skull
        action: on
      - type: sleep
        duration: 1
      - type: relay
        name: skull
        action: off
      - type: music
        file: thump.mp3
        action: play
      - type: sleep
        duration: 2
      - type: motor
        action: reverse
        duration: 1.5
      - type: sleep
        duration: 2
      - type: light
        action: set_color
        colour:
          r: 0
          g: 0
          b: 0

# Error handling configuration (for reference/future use)
error_handling:
  max_retries: 3
  retry_delay: 1  # seconds
  emergency_cleanup:
    - action: "relay_off"
      target: "smoke"
    - action: "relay_off"
      target: "skull"
    - action: "motor_close"
    - action: "lights_off"

# Logging configuration (for reference/future use)
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  file: "/home/halloweencoffin/halloween_coffin/logs/coffin.log"
  console: true
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
